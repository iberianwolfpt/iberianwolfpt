/*developed by Marco Heleno*/class RangeSlider{constructor(i,s,t,h){this.min=i,this.max=s,this.step=t,Number.isInteger(this.step)||(this.num_decimals_in_step=split(nf(this.step),".")[1].length),this.output=constrain(h,this.min,this.max),this.numTickMarks(),this.slider_x=0,this.slider_y=0,this.slider_w=100,this.slider_h=20,this.numPixelsPerTickMark(),this.update_thumb_position()}position(i,s){this.slider_x=i,this.slider_y=s,this.update_thumb_position()}size(i,s){this.slider_w=i,this.slider_h=s,this.numPixelsPerTickMark(),this.update_thumb_position()}numTickMarks(){return this.num_tick_marks=(this.max-this.min)/this.step,this.num_tick_marks}numPixelsPerTickMark(){return this.num_pixels_per_tick_mark=this.slider_w/this.num_tick_marks,this.num_pixels_per_tick_mark}slider(){return this.slider_parameters={x:this.slider_x,y:this.slider_y,w:this.slider_w,h:this.slider_h},this.slider_parameters}track(){return this.track_parameters={x1:this.slider_x,y1:this.slider_y+this.slider_h/2,x2:this.slider_x+this.slider_w,y2:this.slider_y+this.slider_h/2},this.track_parameters}thumb(){return this.interaction(),this.thumb_parameters={x:this.thumb_x,y:this.thumb_y},this.thumb_parameters}update_thumb_position(){this.thumb_x=(this.output-this.min)/this.step*this.num_pixels_per_tick_mark+this.slider_x,this.thumb_y=this.slider_y+this.slider_h/2}interaction(){if(this.safety_margin=this.slider_h/2,mouseX>=this.slider_x-this.safety_margin&&mouseX<=this.slider_x+this.slider_w+this.safety_margin&&mouseY>=this.slider_y&&mouseY<=this.slider_y+this.slider_h&&mouseIsPressed){this.input=constrain(mouseX,this.slider_x,this.slider_x+this.slider_w)+.01;for(let i=this.slider_x;i<=this.input;i+=this.num_pixels_per_tick_mark)this.output=round((i-this.slider_x)/this.num_pixels_per_tick_mark*this.step+this.min,this.num_decimals_in_step);this.update_thumb_position()}}value(){return this.output}}